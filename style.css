/* =========================================
   PRO THEME ‚Äì iOS Glass UI (Light/Dark)
   file: style.css  (‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÑ‡∏ü‡∏•‡πå)
========================================= */

/* ===== CSS Reset (soft) ===== */
*{ box-sizing: border-box; }
html,body{ height: 100%; }
body{
  margin: 0;
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
               "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans Thai", "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.35;
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}

/* ===== Theme Tokens ===== */
:root{
  /* layout */
  --max: 980px;
  --pad: 18px;
  --radius: 22px;
  --radius-md: 16px;
  --radius-sm: 14px;

  /* spacing */
  --gap: 14px;
  --gap2: 12px;

  /* colors (default = light) */
  --bg0: #f5f7fb;
  --bg1: #eef2f8;
  --text: #0b1220;
  --muted: rgba(11,18,32,.65);
  --muted2: rgba(11,18,32,.5);

  --glass: rgba(255,255,255,.72);
  --glass2: rgba(255,255,255,.55);
  --border: rgba(15,23,42,.12);

  --shadow: 0 20px 60px rgba(15,23,42,.12);
  --shadow2: 0 10px 30px rgba(15,23,42,.10);

  --accent: rgba(59,130,246,1);      /* blue */
  --accentSoft: rgba(59,130,246,.14);

  --ok: rgba(16,185,129,1);          /* green */
  --okSoft: rgba(16,185,129,.16);

  --bad: rgba(239,68,68,1);          /* red */
  --badSoft: rgba(239,68,68,.16);

  --warn: rgba(245,158,11,1);        /* amber */
  --warnSoft: rgba(245,158,11,.16);

  /* controls */
  --btn: rgba(255,255,255,.78);
  --btnBorder: rgba(15,23,42,.14);

  --field: rgba(255,255,255,.86);
  --fieldBorder: rgba(15,23,42,.16);

  /* iOS safe area */
  --safeTop: env(safe-area-inset-top);
  --safeBottom: env(safe-area-inset-bottom);
}

/* ===== Dark Theme Tokens ===== */
body.theme-dark{
  --bg0: #0b0f14;
  --bg1: #0f1722;
  --text: rgba(255,255,255,.94);
  --muted: rgba(255,255,255,.68);
  --muted2: rgba(255,255,255,.52);

  --glass: rgba(255,255,255,.06);
  --glass2: rgba(255,255,255,.04);
  --border: rgba(255,255,255,.10);

  --shadow: 0 18px 70px rgba(0,0,0,.55);
  --shadow2: 0 10px 34px rgba(0,0,0,.45);

  --accent: rgba(56,189,248,1);     /* sky */
  --accentSoft: rgba(56,189,248,.14);

  --btn: rgba(255,255,255,.08);
  --btnBorder: rgba(255,255,255,.12);

  --field: rgba(255,255,255,.06);
  --fieldBorder: rgba(255,255,255,.12);
}

/* ===== Background (Glass Gradient) ===== */
body{
  color: var(--text);
  background:
    radial-gradient(1100px 520px at 15% -10%, rgba(56,189,248,.18), transparent 60%),
    radial-gradient(900px 520px at 90% 0%, rgba(168,85,247,.16), transparent 55%),
    linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 100%);
  padding-top: calc(10px + var(--safeTop));
  padding-bottom: calc(18px + var(--safeBottom));
}

/* ===== Container ===== */
.wrap{
  max-width: var(--max);
  margin: 0 auto;
  padding: 0 var(--pad);
}

/* ===== Headings ===== */
h1{
  margin: 10px 0 10px;
  font-size: 20px;
  font-weight: 800;
  letter-spacing: .2px;
}
.sub{
  margin: 0 0 14px;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
}

/* ===== Utility ===== */
.hidden{ display: none !important; }
.mt12{ margin-top: 12px; }

.hint{
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
}

.ok{ color: var(--ok); font-weight: 800; }
.no{ color: var(--bad); font-weight: 800; }

/* ===== Nav ===== */
.nav{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 14px 0 14px;
}

.navBtn{
  flex: 1 1 180px;
  min-height: 44px;
  border-radius: 999px;
  background: var(--btn);
  border: 1px solid var(--btnBorder);
  color: var(--text);
  font-weight: 800;
  letter-spacing: .2px;
  box-shadow: var(--shadow2);
  cursor: pointer;
  transition: transform .12s ease, background .18s ease, border-color .18s ease;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
}
.navBtn:active{ transform: scale(.98); }
.navBtn.active{
  background: var(--accentSoft);
  border-color: rgba(59,130,246,.25);
}

/* Emojis on nav */
#nav_calc::before{ content:"üßÆ"; }
#nav_history::before{ content:"üóÇÔ∏è"; }

.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 26px;
  height: 22px;
  padding: 0 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  background: rgba(0,0,0,.08);
  border: 1px solid var(--border);
}
body.theme-dark .badge{
  background: rgba(255,255,255,.08);
}

/* ===== Buttons ===== */
.btn{
  border: 1px solid var(--btnBorder);
  background: var(--btn);
  color: var(--text);
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 800;
  cursor: pointer;
  transition: transform .12s ease, background .18s ease, border-color .18s ease;
  box-shadow: var(--shadow2);
}
.btn:active{ transform: scale(.98); }

.btn.copy::before{ content:"üìã "; }
.btn.danger,
.smallBtn.danger{
  border-color: rgba(239,68,68,.35);
  background: var(--badSoft);
  color: var(--text);
}
body.theme-dark .btn.danger,
body.theme-dark .smallBtn.danger{
  color: rgba(255,255,255,.94);
}

.smallBtn{
  border: 1px solid var(--btnBorder);
  background: var(--btn);
  color: var(--text);
  border-radius: 14px;
  padding: 8px 12px;
  font-weight: 800;
  cursor: pointer;
  transition: transform .12s ease, background .18s ease, border-color .18s ease;
}
.smallBtn:active{ transform: scale(.98); }

/* ===== Toolbar ===== */
.toolbar{
  display:flex;
  gap: 12px;
  align-items: flex-end;
  flex-wrap: wrap;
  margin: 10px 0 12px;
}
.toolField{
  flex: 1 1 260px;
  display:flex;
  flex-direction:column;
  gap: 6px;
}
.toolButtons{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: wrap;
}

.status{
  font-size: 13px;
  color: var(--muted);
  font-weight: 700;
}

/* ===== Mode row ===== */
.row{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 10px 0;
}
.row .btn{
  flex: 1 1 180px;
  min-height: 44px;
  border-radius: 999px;
}

/* Emojis on mode buttons */
#m_normal::before{ content:"‚úÇÔ∏è "; }
#m_reduce::before{ content:"‚¨áÔ∏è "; }
#m_increase::before{ content:"‚¨ÜÔ∏è "; }

/* Active mode */
.row .btn.active{
  background: var(--accentSoft);
  border-color: rgba(59,130,246,.25);
}

/* ===== Card ===== */
.card{
  background: var(--glass);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.cardTitle{
  margin: 0 0 12px;
  font-size: 16px;
  font-weight: 900;
  letter-spacing: .2px;
}
.cardTitle::before{ content:"‚ú® "; opacity: .85; }

/* ===== Grid ===== */
.grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}

@media (max-width: 860px){
  .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 520px){
  .grid{ grid-template-columns: 1fr; }
  .navBtn{ flex: 1 1 100%; }
}

/* Labels + fields */
.lbl{
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
  letter-spacing: .2px;
}

.read{
  min-height: 44px;
  display:flex;
  align-items:center;
  padding: 10px 12px;
  border-radius: 14px;
  background: var(--field);
  border: 1px solid var(--fieldBorder);
  font-weight: 900;
}

/* Inputs */
input, textarea{
  width: 100%;
  min-height: 44px;
  padding: 10px 12px;
  border-radius: 14px;
  background: var(--field);
  border: 1px solid var(--fieldBorder);
  color: var(--text);
  font-weight: 900;
  font-size: 16px;
  outline: none;
}
input::placeholder, textarea::placeholder{
  color: var(--muted2);
  font-weight: 700;
}
input:focus, textarea:focus{
  border-color: rgba(59,130,246,.35);
  box-shadow: 0 0 0 4px var(--accentSoft);
}

/* daysPaid warning */
.warn{
  margin-top: 6px;
  font-size: 12px;
  font-weight: 900;
  color: var(--warn);
  line-height: 1.35;
  min-height: 16px;
}
.warn::before{ content:"‚ö†Ô∏è "; }

/* ===== Result area ===== */
.resultLine{
  font-size: 15px;
  font-weight: 800;
  line-height: 1.5;
}
.resultLine b{
  font-size: 18px;
}

.topnote{
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed var(--border);
  color: var(--muted);
  font-size: 13px;
}

/* ===== History Page ===== */
.historyHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.historyList{
  margin-top: 12px;
}

/* ===== Month / Date Cards ===== */
.monthCard, .dateCard{
  background: var(--glass2);
  border: 1px solid var(--border);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: var(--shadow2);
  margin-top: 12px;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

.monthCard > summary,
.dateCard > summary{
  padding: 14px 16px;
  font-weight: 900;
  color: var(--text);
  background: rgba(255,255,255,.25);
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  user-select: none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
body.theme-dark .monthCard > summary,
body.theme-dark .dateCard > summary{
  background: rgba(255,255,255,.02);
}

.monthMeta, .dateMeta{
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
}

.monthBody, .dateBody{
  padding: 14px 14px 16px;
}

/* Native arrow */
summary{ list-style:none; }
summary::-webkit-details-marker{ display:none; }
.monthCard > summary::after,
.dateCard > summary::after{
  content:"‚Ä∫";
  opacity: .75;
  font-size: 18px;
  transform: rotate(0deg);
  transition: transform .18s ease;
}
details[open] > summary::after{
  transform: rotate(90deg);
}

/* ===== History Item ===== */
.historyItem{
  background: var(--glass);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px 14px 12px;
  box-shadow: var(--shadow2);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.itemTop{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 12px;
  flex-wrap: wrap;
}
.itemName{
  font-size: 16px;
  font-weight: 1000;
  letter-spacing: .2px;
}
.itemName::before{ content:"üë§ "; opacity: .9; }
.itemMeta{
  font-size: 13px;
  color: var(--muted);
  font-weight: 800;
}

/* Copied text block */
.pre{
  background: rgba(0,0,0,.04);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
  margin-top: 10px;
  color: var(--text);
  white-space: pre-wrap;
  font-weight: 800;
  font-size: 13px;
}
body.theme-dark .pre{
  background: rgba(0,0,0,.45);
  color: rgba(255,255,255,.92);
  border-color: rgba(255,255,255,.10);
}

/* Copy summary pill (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡πÅ‡∏Å‡πâ app.js ‡πÄ‡∏õ‡πá‡∏ô class copySummary) */
/* ===== Copy Summary Button (Pro Native) ===== */
.copySummary{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;

  padding: 10px 16px;
  border-radius: 999px;

  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.18);

  color: var(--text);
  font-weight: 900;
  font-size: 14px;

  cursor: pointer;
  transition: all .18s ease;
  user-select: none;
}

.copySummary::before{
  content:"üìÑ";
  font-size: 14px;
}

.copySummary:hover{
  background: rgba(255,255,255,.16);
  transform: translateY(-1px);
}

.copySummary:active{
  transform: scale(.97);
}

body.theme-dark .copySummary{
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(255,255,255,.92);
}

body.theme-dark .copySummary:hover{
  background: rgba(255,255,255,.09);
}
in-top: 10px;
}

.copySummary::before{ content:"üìù"; }
body.theme-dark .copySummary{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.10);
  color: rgba(255,255,255,.90);
}

/* Buttons in item */
.itemButtons{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* ===== Theme button (üåô/‚òÄÔ∏è) ===== */
#themeToggle{
  width: 44px;
  min-width: 44px;
  padding: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 14px;
  font-size: 18px;
}

/* ===== Make everything feel "native" ===== */
a, button, input, summary{
  -webkit-tap-highlight-color: transparent;
}
details > .monthBody,
details > .dateBody{
  animation: fadeInUp .18s ease-out;
}
@keyframes fadeInUp{
  from{ opacity:0; transform: translateY(-4px); }
  to{ opacity:1; transform: translateY(0); }
}

/* =========================================
   iPhone Fit Mode (Normal Mode Only)
========================================= */

/* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤ calc ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
@media (max-width: 430px){

  body{
    padding-bottom: 0;
  }

  .wrap{
    padding: 0 14px;
  }

  h1{
    font-size: 18px;
    margin-bottom: 6px;
  }

  .sub{
    display:none; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡∏π‡∏ï‡∏£‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
  }

  .card{
    padding: 12px;
    border-radius: 18px;
  }

  .cardTitle{
    font-size: 14px;
    margin-bottom: 8px;
  }

  .grid{
    gap: 8px;
  }

  input{
    min-height: 40px;
    font-size: 15px;
  }

  .read{
    min-height: 40px;
    font-size: 14px;
  }

  .resultLine{
    font-size: 14px;
  }

  .resultLine b{
    font-size: 16px;
  }

  .nav{
    margin: 8px 0 10px;
  }

  .row{
    margin: 6px 0;
  }

  /* ‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á card */
  .mt12{
    margin-top: 8px;
  }
}

/* =========================================
   iPad Layout (Pro)
   ‡∏ß‡∏≤‡∏á‡∏ó‡πâ‡∏≤‡∏¢ style.css
========================================= */

/* iPad + Tablet: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á container */
@media (min-width: 768px) and (max-width: 1180px){
  :root{
    --max: 1100px;
  }

  .wrap{
    padding: 0 22px;
  }

  h1{
    font-size: 22px;
  }

  .sub{
    font-size: 14px;
  }

  /* ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢ */
  .btn, .navBtn{
    min-height: 48px;
    font-size: 15px;
  }

  /* input/read ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏¥‡∏î */
  input, textarea{
    min-height: 46px;
    font-size: 16px;
  }
  .read{
    min-height: 46px;
    font-size: 15px;
  }
}

/* iPad (landscape/‡∏Å‡∏ß‡πâ‡∏≤‡∏á): ‡∏à‡∏±‡∏î 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå ‡∏ü‡∏≠‡∏£‡πå‡∏°/‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå */
@media (min-width: 900px){
  /* ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤ calc ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô grid */
  #page_calc{
    display: grid;
    grid-template-columns: 1.15fr .85fr;
    gap: 14px;
    align-items: start;
  }

  /* ‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå sticky ‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏ß‡∏≤ */
  #page_calc .card.mt12:last-of-type{
    position: sticky;
    top: calc(12px + env(safe-area-inset-top));
  }

  /* toolbar + nav ‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ñ‡∏ß */
  .nav, .toolbar, .row{
    grid-column: 1 / -1;
  }

  /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏° + ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≠‡∏î‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ã‡πâ‡∏≤‡∏¢ */
  #page_calc .card:not(.mt12){
    grid-column: 1 / 2;
  }

  /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏ß‡∏≤ */
  #page_calc .card.mt12{
    grid-column: 2 / 3;
  }

  /* grid ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ö‡∏ô iPad ‡∏î‡∏π‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡∏ô */
  .grid{
    grid-template-columns: repeat(2, minmax(0,1fr));
  }
}

/* iPad History: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ card ‡πÑ‡∏°‡πà‡πÅ‡∏Ñ‡∏ö + ‡∏à‡∏±‡∏î spacing */
@media (min-width: 768px){
  .historyItem{
    padding: 16px 18px;
  }
  .itemTop{
    flex-wrap: nowrap;
  }
  .pre{
    font-size: 14px;
  }
}


